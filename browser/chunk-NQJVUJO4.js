import{a as S,b as T,c as p,d as N,e as E,f as P,g as I,h as M,i as R,j as F}from"./chunk-6WPPZKMY.js";import{a as L}from"./chunk-OY3TXSGE.js";import{$ as C,C as d,F as s,G as i,H as a,I as m,J as v,K as u,M as c,N as l,O as _,P as w,W as x,Y as k,o as g,p as b,v as n,x as f,y}from"./chunk-T4YJC36P.js";function q(r,o){if(r&1&&(i(0,"div",30)(1,"div",31),g(),i(2,"svg",32),m(3,"path",33),a(),b(),i(4,"p",34),l(5),a()()()),r&2){let t=u();n(5),w(" ",t.successMessage," ")}}function G(r,o){if(r&1&&(i(0,"div",35)(1,"p",36),l(2),a()()),r&2){let t=u();n(2),_(t.errorMessage)}}function A(r,o){r&1&&(i(0,"p",36),l(1," First name is required "),a())}function j(r,o){r&1&&(i(0,"p",36),l(1," First name must be at least 2 characters "),a())}function B(r,o){if(r&1&&(i(0,"div",37),d(1,A,2,0,"p",38)(2,j,2,0,"p",38),a()),r&2){let t=u();n(),s("ngIf",t.firstName==null||t.firstName.errors==null?null:t.firstName.errors.required),n(),s("ngIf",t.firstName==null||t.firstName.errors==null?null:t.firstName.errors.minlength)}}function D(r,o){r&1&&(i(0,"p",36),l(1," Last name is required "),a())}function z(r,o){r&1&&(i(0,"p",36),l(1," Last name must be at least 2 characters "),a())}function H(r,o){if(r&1&&(i(0,"div",37),d(1,D,2,0,"p",38)(2,z,2,0,"p",38),a()),r&2){let t=u();n(),s("ngIf",t.lastName==null||t.lastName.errors==null?null:t.lastName.errors.required),n(),s("ngIf",t.lastName==null||t.lastName.errors==null?null:t.lastName.errors.minlength)}}function O(r,o){r&1&&(i(0,"p",36),l(1," Email is required "),a())}function Y(r,o){r&1&&(i(0,"p",36),l(1," Please enter a valid email address "),a())}function J(r,o){if(r&1&&(i(0,"div",37),d(1,O,2,0,"p",38)(2,Y,2,0,"p",38),a()),r&2){let t=u();n(),s("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),n(),s("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email)}}function K(r,o){r&1&&(g(),i(0,"svg",39),m(1,"path",40)(2,"path",41),a())}function Q(r,o){r&1&&(g(),i(0,"svg",39),m(1,"path",42),a())}function U(r,o){r&1&&(i(0,"p",36),l(1," Password is required "),a())}function W(r,o){r&1&&(i(0,"p",36),l(1," Password must be at least 6 characters long "),a())}function X(r,o){if(r&1&&(i(0,"div",37),d(1,U,2,0,"p",38)(2,W,2,0,"p",38),a()),r&2){let t=u();n(),s("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),n(),s("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength)}}function Z(r,o){r&1&&(g(),i(0,"svg",39),m(1,"path",40)(2,"path",41),a())}function $(r,o){r&1&&(g(),i(0,"svg",39),m(1,"path",42),a())}function ee(r,o){r&1&&(i(0,"p",36),l(1," Please confirm your password "),a())}function re(r,o){r&1&&(i(0,"p",36),l(1," Passwords do not match "),a())}function te(r,o){if(r&1&&(i(0,"div",37),d(1,ee,2,0,"p",38)(2,re,2,0,"p",38),a()),r&2){let t=u();n(),s("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.required),n(),s("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.passwordMismatch)}}function ie(r,o){r&1&&(i(0,"div",37)(1,"p",36),l(2," You must agree to the terms and conditions "),a()())}function ae(r,o){r&1&&(g(),i(0,"svg",43),m(1,"circle",44)(2,"path",45),a())}var V=class r{constructor(o,t,e){this.fb=o;this.authService=t;this.router=e;this.registerForm=this.fb.group({firstName:["",[p.required,p.minLength(2)]],lastName:["",[p.required,p.minLength(2)]],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],confirmPassword:["",[p.required]],agreeToTerms:[!1,[p.requiredTrue]]},{validators:this.passwordMatchValidator})}registerForm;errorMessage="";successMessage="";isLoading=!1;showPassword=!1;showConfirmPassword=!1;passwordMatchValidator(o){let t=o.get("password"),e=o.get("confirmPassword");return t&&e&&t.value!==e.value?(e.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(e?.errors?.passwordMismatch&&(delete e.errors.passwordMismatch,Object.keys(e.errors).length===0&&e.setErrors(null)),null)}onSubmit(){if(this.registerForm.valid){this.isLoading=!0,this.errorMessage="",this.successMessage="";let o={firstName:this.registerForm.value.firstName,lastName:this.registerForm.value.lastName,email:this.registerForm.value.email,password:this.registerForm.value.password,confirmPassword:this.registerForm.value.confirmPassword};this.authService.register(o).subscribe({next:t=>{t.success?(this.successMessage=t.message,setTimeout(()=>{this.router.navigate(["/dashboard"])},1500)):this.errorMessage=t.message,this.isLoading=!1},error:t=>{this.errorMessage="An error occurred. Please try again.",this.isLoading=!1}})}else this.markFormGroupTouched()}togglePasswordVisibility(o){o==="password"?this.showPassword=!this.showPassword:this.showConfirmPassword=!this.showConfirmPassword}markFormGroupTouched(){Object.keys(this.registerForm.controls).forEach(o=>{this.registerForm.get(o)?.markAsTouched()})}get firstName(){return this.registerForm.get("firstName")}get lastName(){return this.registerForm.get("lastName")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}get agreeToTerms(){return this.registerForm.get("agreeToTerms")}static \u0275fac=function(t){return new(t||r)(f(R),f(L),f(C))};static \u0275cmp=y({type:r,selectors:[["app-register"]],decls:61,vars:30,consts:[[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-sm","text-gray-600","dark:text-gray-400"],["routerLink","/auth/login",1,"font-medium","text-primary-600","hover:text-primary-500","dark:text-primary-400"],["class","mb-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",4,"ngIf"],["class","mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["id","firstName","type","text","formControlName","firstName","autocomplete","given-name","placeholder","Enter first name"],["class","mt-1",4,"ngIf"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["id","lastName","type","text","formControlName","lastName","autocomplete","family-name","placeholder","Enter last name"],["for","email",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["id","email","type","email","formControlName","email","autocomplete","email","placeholder","Enter your email"],["for","password",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","placeholder","Create a password",3,"type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","dark:hover:text-gray-300",3,"click"],["class","h-5 w-5","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["id","confirmPassword","formControlName","confirmPassword","autocomplete","new-password","placeholder","Confirm your password",3,"type"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","agreeToTerms","type","checkbox","formControlName","agreeToTerms"],[1,"ml-3","text-sm"],["for","agreeToTerms",1,"text-gray-700","dark:text-gray-300"],["href","#",1,"font-medium","text-primary-600","hover:text-primary-500","dark:text-primary-400"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-3","px-4","border","border-transparent","text-sm","font-medium","rounded-lg","text-white","bg-primary-600","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"mb-4","p-4","bg-green-50","dark:bg-green-900/20","border","border-green-200","dark:border-green-800","rounded-lg"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-green-600","dark:text-green-400","mr-2"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","text-green-600","dark:text-green-400"],[1,"mb-4","p-4","bg-red-50","dark:bg-red-900/20","border","border-red-200","dark:border-red-800","rounded-lg"],[1,"text-sm","text-red-600","dark:text-red-400"],[1,"mt-1"],["class","text-sm text-red-600 dark:text-red-400",4,"ngIf"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,e){t&1&&(i(0,"div")(1,"div",0)(2,"h3",1),l(3," Create your account "),a(),i(4,"p",2),l(5," Already have an account? "),i(6,"a",3),l(7," Sign in here "),a()()(),d(8,q,6,1,"div",4)(9,G,3,1,"div",5),i(10,"form",6),v("ngSubmit",function(){return e.onSubmit()}),i(11,"div",7)(12,"div")(13,"label",8),l(14," First name "),a(),m(15,"input",9),d(16,B,3,2,"div",10),a(),i(17,"div")(18,"label",11),l(19," Last name "),a(),m(20,"input",12),d(21,H,3,2,"div",10),a()(),i(22,"div")(23,"label",13),l(24," Email address "),a(),m(25,"input",14),d(26,J,3,2,"div",10),a(),i(27,"div")(28,"label",15),l(29," Password "),a(),i(30,"div",16),m(31,"input",17),i(32,"button",18),v("click",function(){return e.togglePasswordVisibility("password")}),d(33,K,3,0,"svg",19)(34,Q,2,0,"svg",19),a()(),d(35,X,3,2,"div",10),a(),i(36,"div")(37,"label",20),l(38," Confirm password "),a(),i(39,"div",16),m(40,"input",21),i(41,"button",18),v("click",function(){return e.togglePasswordVisibility("confirmPassword")}),d(42,Z,3,0,"svg",19)(43,$,2,0,"svg",19),a()(),d(44,te,3,2,"div",10),a(),i(45,"div",22)(46,"div",23),m(47,"input",24),a(),i(48,"div",25)(49,"label",26),l(50," I agree to the "),i(51,"a",27),l(52,"Terms and Conditions"),a(),l(53," and "),i(54,"a",27),l(55,"Privacy Policy"),a()(),d(56,ie,3,0,"div",10),a()(),i(57,"div")(58,"button",28),d(59,ae,3,0,"svg",29),l(60),a()()()()),t&2&&(n(8),s("ngIf",e.successMessage),n(),s("ngIf",e.errorMessage),n(),s("formGroup",e.registerForm),n(5),c("block w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 "+(e.firstName!=null&&e.firstName.invalid&&(e.firstName!=null&&e.firstName.touched)?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white")),n(),s("ngIf",(e.firstName==null?null:e.firstName.invalid)&&(e.firstName==null?null:e.firstName.touched)),n(4),c("block w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 "+(e.lastName!=null&&e.lastName.invalid&&(e.lastName!=null&&e.lastName.touched)?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white")),n(),s("ngIf",(e.lastName==null?null:e.lastName.invalid)&&(e.lastName==null?null:e.lastName.touched)),n(4),c("block w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 "+(e.email!=null&&e.email.invalid&&(e.email!=null&&e.email.touched)?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white")),n(),s("ngIf",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),n(5),c("block w-full px-3 py-2 pr-10 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 "+(e.password!=null&&e.password.invalid&&(e.password!=null&&e.password.touched)?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white")),s("type",e.showPassword?"text":"password"),n(2),s("ngIf",!e.showPassword),n(),s("ngIf",e.showPassword),n(),s("ngIf",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),n(5),c("block w-full px-3 py-2 pr-10 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 "+(e.confirmPassword!=null&&e.confirmPassword.invalid&&(e.confirmPassword!=null&&e.confirmPassword.touched)?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white")),s("type",e.showConfirmPassword?"text":"password"),n(2),s("ngIf",!e.showConfirmPassword),n(),s("ngIf",e.showConfirmPassword),n(),s("ngIf",(e.confirmPassword==null?null:e.confirmPassword.invalid)&&(e.confirmPassword==null?null:e.confirmPassword.touched)),n(3),c("h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded "+(e.agreeToTerms!=null&&e.agreeToTerms.invalid&&(e.agreeToTerms!=null&&e.agreeToTerms.touched)?"border-red-300":"")),n(9),s("ngIf",(e.agreeToTerms==null?null:e.agreeToTerms.invalid)&&(e.agreeToTerms==null?null:e.agreeToTerms.touched)),n(2),s("disabled",e.isLoading),n(),s("ngIf",e.isLoading),n(),w(" ",e.isLoading?"Creating account...":"Create account"," "))},dependencies:[k,x,F,P,T,S,N,E,I,M],encapsulation:2})};export{V as RegisterComponent};
