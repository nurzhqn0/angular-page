import{a as C,b as L,c as p,d as E,e as F,f as I,g as M,h as T,i as P,j}from"./chunk-6WPPZKMY.js";import{a as A}from"./chunk-OY3TXSGE.js";import{$ as _,C as d,F as s,G as r,H as o,I as m,J as c,K as f,M as b,N as l,O as h,P as w,W as x,Y as k,aa as S,o as u,v as n,x as g,y}from"./chunk-T4YJC36P.js";function G(i,a){if(i&1&&(r(0,"div",29)(1,"p",30),l(2),o()()),i&2){let t=f();n(2),h(t.errorMessage)}}function N(i,a){i&1&&(r(0,"p",30),l(1," Email is required "),o())}function V(i,a){i&1&&(r(0,"p",30),l(1," Please enter a valid email address "),o())}function B(i,a){if(i&1&&(r(0,"div",31),d(1,N,2,0,"p",32)(2,V,2,0,"p",32),o()),i&2){let t=f();n(),s("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),n(),s("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email)}}function q(i,a){i&1&&(u(),r(0,"svg",33),m(1,"path",34)(2,"path",35),o())}function R(i,a){i&1&&(u(),r(0,"svg",33),m(1,"path",36),o())}function z(i,a){i&1&&(r(0,"p",30),l(1," Password is required "),o())}function O(i,a){i&1&&(r(0,"p",30),l(1," Password must be at least 6 characters long "),o())}function H(i,a){if(i&1&&(r(0,"div",31),d(1,z,2,0,"p",32)(2,O,2,0,"p",32),o()),i&2){let t=f();n(),s("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),n(),s("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength)}}function J(i,a){i&1&&(u(),r(0,"svg",37),m(1,"circle",38)(2,"path",39),o())}var D=class i{constructor(a,t,e){this.fb=a;this.authService=t;this.router=e;this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],rememberMe:[!1]})}loginForm;errorMessage="";isLoading=!1;showPassword=!1;onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let a={email:this.loginForm.value.email,password:this.loginForm.value.password};this.authService.login(a).subscribe({next:t=>{t.success?this.router.navigate(["/dashboard"]):this.errorMessage=t.message,this.isLoading=!1},error:t=>{this.errorMessage="An error occurred. Please try again.",this.isLoading=!1}})}else this.markFormGroupTouched()}togglePasswordVisibility(){this.showPassword=!this.showPassword}markFormGroupTouched(){Object.keys(this.loginForm.controls).forEach(a=>{this.loginForm.get(a)?.markAsTouched()})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}loginAsDemo(){this.loginForm.patchValue({email:"demo@example.com",password:"demo123"})}static \u0275fac=function(t){return new(t||i)(g(P),g(A),g(_))};static \u0275cmp=y({type:i,selectors:[["app-login"]],decls:45,vars:14,consts:[[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-sm","text-gray-600","dark:text-gray-400"],["routerLink","/auth/register",1,"font-medium","text-primary-600","hover:text-primary-500","dark:text-primary-400"],[1,"mb-4"],["type","button",1,"w-full","flex","justify-center","py-2","px-4","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","bg-white","dark:bg-gray-700","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-600","transition-colors","duration-200",3,"click"],[1,"relative","mb-4"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300","dark:border-gray-600"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","dark:bg-gray-800","text-gray-500"],["class","mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["id","email","type","email","formControlName","email","autocomplete","email","placeholder","Enter your email"],["class","mt-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"relative"],["id","password","formControlName","password","autocomplete","current-password","placeholder","Enter your password",3,"type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","dark:hover:text-gray-300",3,"click"],["class","h-5 w-5","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["id","rememberMe","type","checkbox","formControlName","rememberMe",1,"h-4","w-4","text-primary-600","focus:ring-primary-500","border-gray-300","dark:border-gray-600","rounded"],["for","rememberMe",1,"ml-2","block","text-sm","text-gray-700","dark:text-gray-300"],[1,"text-sm"],["href","#",1,"font-medium","text-primary-600","hover:text-primary-500","dark:text-primary-400"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-3","px-4","border","border-transparent","text-sm","font-medium","rounded-lg","text-white","bg-primary-600","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"mb-4","p-4","bg-red-50","dark:bg-red-900/20","border","border-red-200","dark:border-red-800","rounded-lg"],[1,"text-sm","text-red-600","dark:text-red-400"],[1,"mt-1"],["class","text-sm text-red-600 dark:text-red-400",4,"ngIf"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,e){t&1&&(r(0,"div")(1,"div",0)(2,"h3",1),l(3," Sign in to your account "),o(),r(4,"p",2),l(5," Or "),r(6,"a",3),l(7," create a new account "),o()()(),r(8,"div",4)(9,"button",5),c("click",function(){return e.loginAsDemo()}),l(10," \u{1F680} Try Demo Login "),o()(),r(11,"div",6)(12,"div",7),m(13,"div",8),o(),r(14,"div",9)(15,"span",10),l(16,"Or continue with email"),o()()(),d(17,G,3,1,"div",11),r(18,"form",12),c("ngSubmit",function(){return e.onSubmit()}),r(19,"div")(20,"label",13),l(21," Email address "),o(),m(22,"input",14),d(23,B,3,2,"div",15),o(),r(24,"div")(25,"label",16),l(26," Password "),o(),r(27,"div",17),m(28,"input",18),r(29,"button",19),c("click",function(){return e.togglePasswordVisibility()}),d(30,q,3,0,"svg",20)(31,R,2,0,"svg",20),o()(),d(32,H,3,2,"div",15),o(),r(33,"div",21)(34,"div",22),m(35,"input",23),r(36,"label",24),l(37," Remember me "),o()(),r(38,"div",25)(39,"a",26),l(40," Forgot your password? "),o()()(),r(41,"div")(42,"button",27),d(43,J,3,0,"svg",28),l(44),o()()()()),t&2&&(n(17),s("ngIf",e.errorMessage),n(),s("formGroup",e.loginForm),n(4),b("block w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 "+(e.email!=null&&e.email.invalid&&(e.email!=null&&e.email.touched)?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white")),n(),s("ngIf",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),n(5),b("block w-full px-3 py-2 pr-10 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 "+(e.password!=null&&e.password.invalid&&(e.password!=null&&e.password.touched)?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white")),s("type",e.showPassword?"text":"password"),n(2),s("ngIf",!e.showPassword),n(),s("ngIf",e.showPassword),n(),s("ngIf",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),n(10),s("disabled",e.isLoading),n(),s("ngIf",e.isLoading),n(),w(" ",e.isLoading?"Signing in...":"Sign in"," "))},dependencies:[k,x,j,I,L,C,E,F,M,T,S],encapsulation:2})};export{D as LoginComponent};
